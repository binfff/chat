{"version":3,"file":"js/827.286e7f56.js","mappings":"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","sources":["webpack://pro/./src/api/chat.js","webpack://pro/./src/views/chatting.vue","webpack://pro/src/views/chatting.vue","webpack://pro/./src/views/chatting.vue?99b0","webpack://pro/./src/views/chatting.vue?1318"],"sourcesContent":["import request from '@/util/request';\r\n\r\nexport function sendMsg(data) { // 发送消息\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/gpt/chat\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function chatList(data) { // 获取聊天框\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/chatselect/chatList\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function addChat(data) { // 新建聊天\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/chatselect/newChat\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function records(data) { // 获取当前用户当前聊天的记录\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/msgrecord/records\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteChat(data) { // 获取当前用户当前聊天的记录\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/chatselect/delete\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function editChat(data) { // 修改聊天名\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/chatselect/update\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\nexport function addRobot(data) { // 修改聊天名\r\n  return request({\r\n    url: \"http://www.wutiand.cn/chat/robot/save\",\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chattingBox\"},[_c('div',{staticClass:\"chatLeft\"},[_c('div',{staticClass:\"header\"},[_c('p',[_vm._v(_vm._s(_vm.chatData.robotName)+\"(\"+_vm._s(_vm.currentChat)+\")\")]),_c('p',{staticClass:\"operate\"},[_c('img',{staticStyle:{\"margin-right\":\"1rem\"},attrs:{\"src\":require(\"@/assets/images/export.png\"),\"alt\":\"\",\"srcset\":\"\"}}),_c('img',{attrs:{\"src\":require(\"@/assets/images/menu.png\"),\"alt\":\"\",\"srcset\":\"\"},on:{\"click\":function($event){_vm.isCollapse = true}}})])]),_c('div',{ref:\"chatListBox\",staticClass:\"chatListBox\"},[_c('ul',_vm._l((_vm.chatList),function(item,index){return _c('li',{key:index,class:item.type == 'AI' ? 'chatList' : 'chatList userChat'},[_c('img',{attrs:{\"src\":item.imgUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(_vm._s(item.time))]),_c('p',{staticClass:\"desc\"},[(!_vm.isInit && !_vm.loading && index === _vm.chatList.length - 1 && item.type == 'AI' && index != 0)?_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.displayedMessages[index]))]):(!_vm.isInit && _vm.loading && index === _vm.chatList.length - 1)?_c('span',{staticClass:\"blink\"}):_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(\" \"+_vm._s(item.description))]),_c('a-float-button-group',{style:({ right: '24px' }),attrs:{\"trigger\":\"click\",\"type\":\"primary\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CustomerServiceOutlined')]},proxy:true}],null,true)},[_c('a-float-button'),_c('a-float-button',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CommentOutlined')]},proxy:true}],null,true)})],1)],1)]),(!_vm.isInit && !_vm.loading && index === _vm.chatList.length - 1 && item.type == 'AI' && index != 0)?_c('button',{staticStyle:{\"float\":\"right\"},on:{\"click\":_vm.resend}},[_vm._v(\"⟳\")]):_vm._e()])}),0)]),_c('div',{staticClass:\"chatInput\"},[_c('el-button',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/saoba.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"新话题\")])]),_c('div',{staticClass:\"chatText\"},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"来说点什么吧...（Shift + Enter = 换行）\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-s-promotion\",\"disabled\":_vm.disabledValue},on:{\"click\":_vm.send},slot:\"append\"})],1)],1)],1)]),_c('div',{staticClass:\"chatRight\"},[_c('div',{staticClass:\"aiListBox\"},[_c('div',{staticClass:\"aiList\"},[_c('el-image',{attrs:{\"src\":_vm.chatData.avatar}}),_c('div',{staticClass:\"aiText\"},[_c('h5',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.chatData.robotName))]),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.chatData.abstract))])])],1)]),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"name\":\"first\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" 历史话题\")]),_c('div',{staticClass:\"xjht\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.newChat()}}},[_vm._v(\" 新建话题 \")]),_c('div',{staticClass:\"messageBox\"},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":\"x\"}},[_c('i',{staticClass:\"el-icon-chat-square\"})])],1)],1),_c('div',{staticStyle:{\"height\":\"37rem\",\"overflow\":\"auto\"}},_vm._l((_vm.chats),function(item,index){return _c('div',{key:index,staticClass:\"talkList\",style:({ backgroundColor: _vm.serialNumber === index ? '#f1f0fa' : '#f4f4f5' })},[_c('div',{on:{\"click\":function($event){return _vm.selectChat(index)}}},[_c('i',{staticClass:\"el-icon-chat-dot-square\"}),_c('span',[_vm._v(_vm._s(item.name))])]),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.editClick(item.id)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteClick(item.id)}}})])}),0)]),_c('el-tab-pane',{attrs:{\"name\":\"second\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 角色信息\")]),_c('div',{staticClass:\"Roles\"},[_c('div',{staticClass:\"Basicinformation boxBor\"},[_c('h4',[_vm._v(\"基础信息\")]),_c('p',[_vm._v(\"创建者：\"),_c('span',{staticStyle:{\"color\":\"rgb(59 130 246)\"}},[_vm._v(\"@\"+_vm._s(this.chatData.username != null ? this.chatData.username : \"wutiand\"))])]),_c('p',[_vm._v(\"对话模式：\"+_vm._s(this.chatData.talkMode === 1 ? '连续对话' : \"单回合聊天\"))]),_c('p',[_vm._v(\"联想能力：较精确（参数0.7）\")])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_c('span',[_vm._v(\"角色分享链接\")])]),_c('p',{staticStyle:{\"color\":\"rgb(59 130 246)\"}},[_vm._v(\"https://c.aichat.la/#/bot/96?p=22045\")])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_vm._v(\"Prompt\")]),_c('p',[_vm._v(_vm._s(_vm.chatData.isOpenSource == 1 && _vm.chatData.openStatus == 1 ? _vm.chatData.prompt : \"用户未公开\"))])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_vm._v(\"使用介绍\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.chatData.description)}})]),_c('div',{staticClass:\"caozuo\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"全选\")]),_c('div',{staticClass:\"caozRight\"},[_c('el-button',{staticClass:\"delete\",attrs:{\"size\":\"small\",\"disabled\":\"\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\"取消\")])],1)],1)])])],1)],1),_c('el-drawer',{staticClass:\"chatRightPhone\",attrs:{\"direction\":\"rtl\",\"title\":\"我是标题\",\"visible\":_vm.isCollapse,\"with-header\":false},on:{\"update:visible\":function($event){_vm.isCollapse=$event}}},[_c('div',{staticClass:\"chatRight\"},[_c('div',{staticClass:\"aiListBox\"},[_c('div',{staticClass:\"aiList\"},[_c('el-image',{attrs:{\"src\":_vm.chatData.avatar}}),_c('div',{staticClass:\"aiText\"},[_c('h5',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.chatData.robotName))]),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.chatData.abstract))])])],1)]),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"name\":\"first\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" 历史话题\")]),_c('div',{staticClass:\"xjht\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.newChat()}}},[_vm._v(\" 新建话题 \")]),_c('div',{staticClass:\"messageBox\"},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":\"x\"}},[_c('i',{staticClass:\"el-icon-chat-square\"})])],1)],1),_c('div',{staticStyle:{\"height\":\"37rem\",\"overflow\":\"auto\"}},_vm._l((_vm.chats),function(item,index){return _c('div',{key:index,staticClass:\"talkList\",style:({ backgroundColor: _vm.serialNumber === index ? '#f1f0fa' : '#f4f4f5' })},[_c('div',{on:{\"click\":function($event){return _vm.selectChat(index)}}},[_c('i',{staticClass:\"el-icon-chat-dot-square\"}),_c('span',[_vm._v(_vm._s(item.name))])]),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.editClick(item.id)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteClick(item.id)}}})])}),0)]),_c('el-tab-pane',{attrs:{\"name\":\"second\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 角色信息\")]),_c('div',{staticClass:\"Roles\"},[_c('div',{staticClass:\"Basicinformation boxBor\"},[_c('h4',[_vm._v(\"基础信息\")]),_c('p',[_vm._v(\"创建者：\"),_c('span',{staticStyle:{\"color\":\"rgb(59 130 246)\"}},[_vm._v(\"@\"+_vm._s(this.chatData.username != null ? this.chatData.username : \"wutiand\"))])]),_c('p',[_vm._v(\"对话模式：\"+_vm._s(this.chatData.talkMode === 1 ? '连续对话' : \"单回合聊天\"))]),_c('p',[_vm._v(\"联想能力：较精确（参数0.7）\")])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_c('span',[_vm._v(\"角色分享链接\")])]),_c('p',{staticStyle:{\"color\":\"rgb(59 130 246)\"}},[_vm._v(\"https://c.aichat.la/#/bot/96?p=22045\")])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_vm._v(\"Prompt\")]),_c('p',[_vm._v(_vm._s(_vm.chatData.isOpenSource == 1 && _vm.chatData.openStatus == 1 ? _vm.chatData.prompt : \"用户未公开\")+\" \")])]),_c('div',{staticClass:\"boxBor\"},[_c('h4',[_vm._v(\"使用介绍\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.chatData.description)}})]),_c('div',{staticClass:\"caozuo\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"全选\")]),_c('div',{staticClass:\"caozRight\"},[_c('el-button',{staticClass:\"delete\",attrs:{\"size\":\"small\",\"disabled\":\"\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\"取消\")])],1)],1)])])],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"chattingBox\">\r\n        <div class=\"chatLeft\">\r\n            <div class=\"header\">\r\n                <p>{{ chatData.robotName }}({{ currentChat }})</p>\r\n                <p class=\"operate\">\r\n                    <img style=\"margin-right:1rem\" src=\"@/assets/images/export.png\" alt=\"\" srcset=\"\">\r\n                    <img src=\"@/assets/images/menu.png\" @click=\"isCollapse = true\" alt=\"\" srcset=\"\">\r\n                </p>\r\n            </div>\r\n\r\n            <div class=\"chatListBox\" ref=\"chatListBox\">\r\n                <ul>\r\n                    <li :class=\"item.type == 'AI' ? 'chatList' : 'chatList userChat'\" v-for=\"(item, index) in chatList\"\r\n                        :key=\"index\">\r\n                        <img :src=\"item.imgUrl\" alt=\"\">\r\n                        <div class=\"text\">\r\n                            <p>{{ item.time }}</p>\r\n                            <p class=\"desc\">\r\n                                <span style=\"white-space: pre-wrap;\"\r\n                                    v-if=\"!isInit && !loading && index === chatList.length - 1 && item.type == 'AI' && index != 0\">{{\r\n                                        displayedMessages[index]\r\n                                    }}</span>\r\n                                <span v-else-if=\"!isInit && loading && index === chatList.length - 1\" class=\"blink\"></span>\r\n                                <span v-else style=\"white-space: pre-wrap;\"> {{ item.description }}</span>\r\n                                <a-float-button-group trigger=\"click\" type=\"primary\" :style=\"{ right: '24px' }\">\r\n                                    <template #icon>\r\n                                        <CustomerServiceOutlined />\r\n                                    </template>\r\n                                    <a-float-button />\r\n                                    <a-float-button>\r\n                                        <template #icon>\r\n                                            <CommentOutlined />\r\n                                        </template>\r\n                                    </a-float-button>\r\n                                </a-float-button-group>\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            v-if=\"!isInit && !loading && index === chatList.length - 1 && item.type == 'AI' && index != 0\"\r\n                            @click=\"resend\" style=\"float:right ;\">⟳</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"chatInput\">\r\n                <el-button class=\"title\">\r\n                    <img src=\"@/assets/images/saoba.png\" alt=\"\">\r\n                    <span>新话题</span>\r\n                </el-button>\r\n                <div class=\"chatText\">\r\n                    <el-input placeholder=\"来说点什么吧...（Shift + Enter = 换行）\" class=\"input-with-select\" v-model=\"message\">\r\n                        <el-button @click=\"send\" slot=\"append\" icon=\"el-icon-s-promotion\"\r\n                            :disabled=\"disabledValue\"></el-button>\r\n                    </el-input>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"chatRight\">\r\n            <div class=\"aiListBox\">\r\n                <div class=\"aiList\">\r\n                    <el-image :src=\"chatData.avatar\"></el-image>\r\n                    <div class=\"aiText\">\r\n                        <h5 class=\"text\">{{ chatData.robotName }}</h5>\r\n                        <p class=\"desc\">{{ chatData.abstract }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <el-tabs v-model=\"activeName\">\r\n                <el-tab-pane name=\"first\">\r\n                    <span slot=\"label\"><i class=\"el-icon-time\"></i> 历史话题</span>\r\n                    <div class=\"xjht\">\r\n                        <el-button size=\"mini\" @click=\"newChat()\">\r\n                            新建话题\r\n                        </el-button>\r\n                        <div class=\"messageBox\">\r\n                            <el-badge value=\"x\" class=\"item\">\r\n                                <i class=\"el-icon-chat-square\"></i>\r\n                            </el-badge>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"height: 37rem;overflow: auto;\">\r\n                        <div class=\"talkList\" v-for=\"(item, index) in chats\" :key=\"index\"\r\n                            :style=\"{ backgroundColor: serialNumber === index ? '#f1f0fa' : '#f4f4f5' }\">\r\n                            <div @click=\"selectChat(index)\">\r\n                                <i class=\"el-icon-chat-dot-square\"></i>\r\n                                <span>{{ item.name }}</span>\r\n                            </div>\r\n                            <i class=\"el-icon-edit\" @click=\"editClick(item.id)\"></i>\r\n                            <i class=\"el-icon-delete\" @click=\"deleteClick(item.id)\"></i>\r\n                        </div>\r\n                    </div>\r\n\r\n                </el-tab-pane>\r\n                <el-tab-pane name=\"second\">\r\n                    <span slot=\"label\"><i class=\"el-icon-user\"></i> 角色信息</span>\r\n                    <div class=\"Roles\">\r\n                        <div class=\"Basicinformation boxBor\">\r\n                            <h4>基础信息</h4>\r\n                            <p>创建者：<span style=\"color:rgb(59 130 246)\">@{{\r\n                                this.chatData.username != null ? this.chatData.username : \"wutiand\" }}</span></p>\r\n                            <p>对话模式：{{ this.chatData.talkMode === 1 ? '连续对话' : \"单回合聊天\" }}</p>\r\n                            <p>联想能力：较精确（参数0.7）</p>\r\n                        </div>\r\n                        <div class=\"boxBor\">\r\n                            <h4>\r\n                                <span>角色分享链接</span>\r\n                            </h4>\r\n                            <p style=\"color:rgb(59 130 246)\">https://c.aichat.la/#/bot/96?p=22045</p>\r\n                        </div>\r\n                        <div class=\"boxBor\">\r\n                            <h4>Prompt</h4>\r\n                            <p>{{ chatData.isOpenSource == 1 && chatData.openStatus == 1 ? chatData.prompt : \"用户未公开\" }}</p>\r\n                        </div>\r\n                        <div class=\"boxBor\">\r\n                            <h4>使用介绍</h4>\r\n                            <p v-html=\"chatData.description\"></p>\r\n                        </div>\r\n                        <div class=\"caozuo\">\r\n                            <el-checkbox v-model=\"checked\">全选</el-checkbox>\r\n                            <div class=\"caozRight\">\r\n                                <el-button size=\"small\" disabled class=\"delete\">删除</el-button>\r\n                                <el-button size=\"small\">取消</el-button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n\r\n        </div>\r\n        <el-drawer class=\"chatRightPhone\" direction=\"rtl\" title=\"我是标题\" :visible.sync=\"isCollapse\" :with-header=\"false\">\r\n            <div class=\"chatRight\">\r\n                <div class=\"aiListBox\">\r\n                    <div class=\"aiList\">\r\n                        <el-image :src=\"chatData.avatar\"></el-image>\r\n                        <div class=\"aiText\">\r\n                            <h5 class=\"text\">{{ chatData.robotName }}</h5>\r\n                            <p class=\"desc\">{{ chatData.abstract }}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <el-tabs v-model=\"activeName\">\r\n                    <el-tab-pane name=\"first\">\r\n                        <span slot=\"label\"><i class=\"el-icon-time\"></i> 历史话题</span>\r\n                        <div class=\"xjht\">\r\n                            <el-button size=\"mini\" @click=\"newChat()\">\r\n                                新建话题\r\n                            </el-button>\r\n                            <div class=\"messageBox\">\r\n                                <el-badge value=\"x\" class=\"item\">\r\n                                    <i class=\"el-icon-chat-square\"></i>\r\n                                </el-badge>\r\n                            </div>\r\n                        </div>\r\n                        <div style=\"height: 37rem;overflow: auto;\">\r\n                            <div class=\"talkList\" v-for=\"(item, index) in chats\" :key=\"index\"\r\n                                :style=\"{ backgroundColor: serialNumber === index ? '#f1f0fa' : '#f4f4f5' }\">\r\n                                <div @click=\"selectChat(index)\">\r\n                                    <i class=\"el-icon-chat-dot-square\"></i>\r\n                                    <span>{{ item.name }}</span>\r\n                                </div>\r\n                                <i class=\"el-icon-edit\" @click=\"editClick(item.id)\"></i>\r\n                                <i class=\"el-icon-delete\" @click=\"deleteClick(item.id)\"></i>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </el-tab-pane>\r\n                    <el-tab-pane name=\"second\">\r\n                        <span slot=\"label\"><i class=\"el-icon-user\"></i> 角色信息</span>\r\n                        <div class=\"Roles\">\r\n                            <div class=\"Basicinformation boxBor\">\r\n                                <h4>基础信息</h4>\r\n                                <p>创建者：<span style=\"color:rgb(59 130 246)\">@{{\r\n                                    this.chatData.username != null ? this.chatData.username : \"wutiand\" }}</span></p>\r\n                                <p>对话模式：{{ this.chatData.talkMode === 1 ? '连续对话' : \"单回合聊天\" }}</p>\r\n                                <p>联想能力：较精确（参数0.7）</p>\r\n                            </div>\r\n                            <div class=\"boxBor\">\r\n                                <h4>\r\n                                    <span>角色分享链接</span>\r\n                                </h4>\r\n                                <p style=\"color:rgb(59 130 246)\">https://c.aichat.la/#/bot/96?p=22045</p>\r\n                            </div>\r\n                            <div class=\"boxBor\">\r\n                                <h4>Prompt</h4>\r\n                                <p>{{ chatData.isOpenSource == 1 && chatData.openStatus == 1 ? chatData.prompt : \"用户未公开\" }}\r\n                                </p>\r\n                            </div>\r\n                            <div class=\"boxBor\">\r\n                                <h4>使用介绍</h4>\r\n                                <p v-html=\"chatData.description\"></p>\r\n                            </div>\r\n                            <div class=\"caozuo\">\r\n                                <el-checkbox v-model=\"checked\">全选</el-checkbox>\r\n                                <div class=\"caozRight\">\r\n                                    <el-button size=\"small\" disabled class=\"delete\">删除</el-button>\r\n                                    <el-button size=\"small\">取消</el-button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { CustomerServiceOutlined, CommentOutlined } from '@ant-design/icons-vue';\r\nimport { sendMsg, chatList, addChat, records, editChat, deleteChat } from \"@/api/chat.js\"\r\nimport { AiList } from '@/assets/js/data'\r\nimport { getPub } from \"@/api/home\"\r\nexport default {\r\n    name: \"chattine_page\",  //对话页面\r\n    data() {\r\n        return {\r\n            aiList: AiList,\r\n            serialNumber: 0,\r\n            isInit: true,\r\n            loading: false,\r\n            chatForm: {\r\n                isOpenSource: 1,\r\n                userId: 0,\r\n                chatSelectId: 0,\r\n                robotId: 0,\r\n                username: \"jj\",\r\n                name: \"new Chat\",\r\n                temperature: 0,\r\n                messages: []\r\n            },\r\n            disabledValue: false,\r\n            displayedMessages: [],\r\n            currentChatId: 1,\r\n            currentChat: \"新建话题1\",\r\n            chats: [],\r\n            message: \"\",\r\n            resMsg: \"\",\r\n            isCollapse: false,\r\n            activeName: \"second\",\r\n            checked: false,\r\n            chatData: {\r\n            },\r\n            chatList: [\r\n                {\r\n                    time: '05/19 10:22:22',\r\n                    imgUrl: \"\",\r\n                    description: \"请登录\",\r\n                    color: \"\",\r\n                    type: 'AI'\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    watch: {\r\n        currentChatId: function (id, oldValue) {\r\n            this.chatList = [{\r\n                time: '05/19 10:22:22',\r\n                imgUrl: \"\",\r\n                description: \"\",\r\n                color: \"\",\r\n                type: 'AI'\r\n            }];\r\n            this.chatList[0].imgUrl = this.chatData.avatar;\r\n            this.chatList[0].description = this.chatData.description;\r\n            this.chatForm.chatSelectId = id;\r\n            this.displayedMessages = [];\r\n            this.loading = false;\r\n            this.isInit = true;\r\n            records(this.chatForm).then(res => {\r\n                if (res.data.code === 200) {\r\n                    const newArray = res.data.data.map(item => ({ ...item, imgUrl: this.chatData.avatar }));\r\n                    if (newArray.length > 0) {\r\n                        this.chatList.push(...newArray);\r\n                    }\r\n                }\r\n            })\r\n            // 当currentChatId发生变化时执行相应的规则\r\n            // 根据newValue和oldValue执行相应的操作\r\n        },\r\n        \"$route.query.id\"(val) {\r\n            console.log(\"watch\");\r\n            getPub().then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.aiList = AiList.concat(res.data.data)\r\n                    this.isInit = true;\r\n                    console.log(\"循环次数\");\r\n                    for (let i = 0; i < this.aiList.length; i++) {\r\n                        console.log(i);\r\n                        let item = this.aiList[i]\r\n                        item.robots.forEach(itemR => {\r\n                            if (itemR.id == val) {\r\n                                this.chatList = [{\r\n                                    time: '05/19 10:22:22',\r\n                                    imgUrl: \"\",\r\n                                    description: \"\",\r\n                                    color: \"\",\r\n                                    type: 'AI'\r\n                                }];\r\n                                this.chatData = itemR;\r\n                                this.chatForm.robotId = itemR.id;\r\n                                this.chatList[0].imgUrl = itemR.avatar;\r\n                                this.chatList[0].description = itemR.description;\r\n                                chatList(this.chatForm).then(res => {\r\n                                    if (res.data.code == 200) {\r\n                                        if (res.data.data.length > 0) {\r\n                                            this.chats = res.data.data\r\n                                            this.currentChatId = res.data.data[0].id\r\n                                            this.currentChat = res.data.data[0].name;\r\n                                        } else {\r\n                                            this.chats = []\r\n                                            this.newChat()\r\n                                        }\r\n\r\n                                    }\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        console.log(\"mounted\");\r\n        getPub().then(res => {\r\n            if (res.data.code == 200) {\r\n                this.aiList = AiList.concat(res.data.data)\r\n                this.isInit = true;\r\n                let id = this.$route.query.id;\r\n                let userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n                console.log(this.chatForm);\r\n                if (userInfo != null) {\r\n                    this.chatForm.userId = userInfo.id;\r\n                    this.chatForm.username = userInfo.username;\r\n                }\r\n                this.chatForm.robotId = id;\r\n                for (let i = 0; i < this.aiList.length; i++) {\r\n                    let item = this.aiList[i]\r\n                    item.robots.forEach(itemR => {\r\n                        if (itemR.id == id) {\r\n                            console.log(itemR);\r\n                            this.chatList = [{\r\n                                time: '05/19 10:22:22',\r\n                                imgUrl: \"\",\r\n                                description: \"\",\r\n                                color: \"\",\r\n                                type: 'AI'\r\n                            }];\r\n                            this.chatData = itemR;\r\n                            this.chatList[0].imgUrl = itemR.avatar;\r\n                            this.chatList[0].description = itemR.description;\r\n                            chatList(this.chatForm).then(res => {\r\n                                if (res.data.code == 200) {\r\n                                    if (res.data.data.length > 0) {\r\n                                        this.chats = res.data.data\r\n                                        this.currentChatId = res.data.data[0].id\r\n                                        this.currentChat = res.data.data[0].name;\r\n                                    } else {\r\n                                        this.chats = []\r\n                                        this.newChat()\r\n                                    }\r\n                                } else {\r\n                                    this.$message.error(res.data.msg)\r\n                                }\r\n                            }).catch((err) => {\r\n                                this.$message({\r\n                                    type: err === \"cancel\" ? 'info' : 'error',\r\n                                    message: err\r\n                                });\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n                // this.aiList.forEach(item => {\r\n                //     console.log(item);\r\n\r\n                // })\r\n                this.scrollToBottom(); // 组件首次挂载时滚动到底部\r\n            }\r\n        }).catch((err) => {\r\n            this.$message({\r\n                type: err === \"cancel\" ? 'info' : 'error',\r\n                message: err\r\n            });\r\n        })\r\n\r\n    },\r\n    methods: {\r\n        animateMessages() {\r\n            let currentIndex = this.chatList.length - 1;\r\n            const interval = 10; // 每个字符显示的间隔时间，可以根据需要调整\r\n            const timer = setInterval(() => {\r\n                if (currentIndex >= this.chatList.length) {\r\n                    clearInterval(timer);\r\n                } else {\r\n                    //console.log(\"本次打印消息为\" + this.messages[currentIndex]);\r\n\r\n                    const msg = this.chatList[currentIndex].description;\r\n                    const displayedMessage = this.displayedMessages[currentIndex] || \"\";\r\n                    if (displayedMessage.length < msg.length) {\r\n                        /* 判断当前消息是否已经完全显示，\r\n                         * 如果没有，则追加下一个字符到已显示消息的末尾 */\r\n                        this.displayedMessages[currentIndex] = msg.slice(\r\n                            0,\r\n                            displayedMessage.length + 1\r\n\r\n                        );\r\n                        this.$nextTick(this.scrollToBottom);\r\n                    } else {\r\n                        /* 当前消息已经完全显示，进入下一条消息的动画 */\r\n                        currentIndex++;\r\n                    }\r\n                }\r\n                if (currentIndex < this.chatList.length) {\r\n                    this.chatList[currentIndex].time = \"\";\r\n                    this.chatList[currentIndex].time = new Date().toLocaleTimeString('zh-CN', { hour12: false });\r\n                }\r\n                // console.log(this.chatList[currentIndex]);\r\n            }, interval);\r\n        },\r\n        buildChatForm() {\r\n\r\n            // let userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n            // console.log(userInfo);\r\n            // this.chatForm.userId = userInfo.id;\r\n            // this.chatForm.username = userInfo.username;\r\n            const maxLength = 4096; // 最大字符数之和\r\n            const maxItems = 10; // 最多项数\r\n            this.chatForm.isOpenSource = this.chatData.isOpenSource;\r\n            this.chatForm.temperature = this.chatData.temperature;\r\n            let count = 0;\r\n            let items = [];\r\n            this.chatForm.messages = [];\r\n            for (let i = this.chatList.length - 1; i >= 0; i--) {\r\n                const item = this.chatList[i];\r\n                const itemLength = item.description.length;\r\n\r\n                if (count + itemLength <= maxLength && items.length < maxItems) {\r\n                    count += itemLength;\r\n                    let result = {\r\n                        role: item.type == 'AI' ? 'assistant' : 'user',\r\n                        content: item.description\r\n                    }\r\n                    this.chatForm.messages.unshift(result);\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            let sysMsg = {\r\n                role: \"system\",\r\n                content: this.chatData.prompt\r\n            }\r\n            this.chatForm.messages.unshift(sysMsg);\r\n        },\r\n        selectChat(index) {\r\n            this.currentChat = this.chats[index].name;\r\n            this.currentChatId = this.chats[index].id;\r\n            this.serialNumber = index;\r\n        },\r\n        deleteClick(id) {\r\n            this.$confirm('此操作将永久删除该该聊天项及所有聊天内容, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n                center: true\r\n            }).then(() => {\r\n                let index = this.chats.findIndex(chat => chat.id === id);\r\n                let del = {\r\n                    chatSelectId: id,\r\n                    username: JSON.parse(localStorage.getItem(\"userInfo\")).name,\r\n                    userId: JSON.parse(localStorage.getItem(\"userInfo\")).id,\r\n                    robotId: this.chatData.id\r\n                }\r\n                deleteChat(del).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        chatList(this.chatForm).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                if (res.data.data.length > 0) {\r\n                                    this.chats = res.data.data\r\n                                    this.currentChatId = res.data.data[0].id\r\n                                    this.currentChat = res.data.data[0].name;\r\n                                } else {\r\n                                    this.chats = []\r\n                                    this.newChat()\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '删除成功!'\r\n                });\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: err === \"cancel\" ? 'info' : 'error',\r\n                    message: err\r\n                });\r\n            });\r\n        },\r\n        editClick(id) {\r\n            this.$prompt('请输入修改名称', '修改聊天名', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                center: true\r\n            }).then(({ value }) => {\r\n\r\n                let edit = {\r\n                    id: id,\r\n                    name: value,\r\n                    userId: JSON.parse(localStorage.getItem(\"userInfo\")).id,\r\n                    robotId: this.chatData.id\r\n                }\r\n                editChat(edit).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.chats.find(chat => chat.id === id).name = value\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '修改成功'\r\n                        });\r\n                    }\r\n                })\r\n            }).catch((err) => {\r\n                this.$message({\r\n                    type: err === \"cancel\" ? 'info' : 'error',\r\n                    message: err\r\n                });\r\n            });\r\n        },\r\n        newChat() {\r\n            if (this.chats.length >= 10) {\r\n                this.$message({\r\n                    type: 'error',\r\n                    message: '当前聊天已达上限'\r\n                });\r\n            } else {\r\n                addChat(this.chatForm).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.chats.push({\r\n                            name: res.data.data.name,\r\n                            id: res.data.data.id\r\n                        })\r\n                        this.currentId = res.data.data.id\r\n                    }\r\n                })\r\n            }\r\n\r\n        },\r\n        scrollToBottom() {\r\n            this.$refs.chatListBox.scrollTop = this.$refs.chatListBox.scrollHeight;\r\n        },\r\n        send() {\r\n            this.isInit = false;\r\n            // this.disabledValue = true;\r\n            let a = {\r\n                time: '05/19 10:22:22',\r\n                imgUrl: \"https://c.aichat.la/robot.png\",\r\n                description: this.message,\r\n                color: \"\",\r\n                type: 'NOAI'\r\n            }\r\n            this.chatList.push(a)  //改变原数组\r\n            this.buildChatForm();\r\n            let ai = {\r\n                time: '05/19 10:22:22',\r\n                imgUrl: this.chatData.avatar,\r\n                description: \"\",\r\n                color: \"\",\r\n                type: 'AI',\r\n            }\r\n            this.chatList.push(ai)\r\n            this.loading = true\r\n            this.chatForm.content = this.message;\r\n            sendMsg(this.chatForm).then(res => {\r\n                if (res.data.code == 200) {\r\n                    let ai2 = {\r\n                        time: '05/19 10:22:22',\r\n                        imgUrl: this.chatData.avatar,\r\n                        description: res.data.data,\r\n                        color: \"\",\r\n                        type: 'AI',\r\n                    }\r\n                    this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                    this.loading = false\r\n                    this.animateMessages();\r\n                    // localStorage.setItem(\"isLogin\", true);\r\n                } else {\r\n                    let ai2 = {\r\n                        time: '05/19 10:22:22',\r\n                        imgUrl: this.chatData.avatar,\r\n                        description: res.data.msg,\r\n                        color: \"\",\r\n                        type: 'AI',\r\n                    }\r\n                    this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                    this.loading = false\r\n                    this.animateMessages();\r\n                    this.$message.error(res.msg);\r\n                }\r\n            }).catch(() => {\r\n                let ai2 = {\r\n                    time: '05/19 10:22:22',\r\n                    imgUrl: this.chatData.avatar,\r\n                    description: \"请求失败\",\r\n                    color: \"\",\r\n                    type: 'AI',\r\n                }\r\n                this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                this.loading = false\r\n                this.animateMessages();\r\n                this.$message.error(\"请求失败\");\r\n            })\r\n            this.message = \"\"\r\n            this.$nextTick(this.scrollToBottom);\r\n        },\r\n        resend() {\r\n            this.isInit = false;\r\n            let ai = {\r\n                time: '05/19 10:22:22',\r\n                imgUrl: this.chatData.avatar,\r\n                description: \"\",\r\n                color: \"\",\r\n                type: 'AI',\r\n            }\r\n            this.chatList.splice(this.chatList.length - 1, 1, ai)\r\n            this.loading = true\r\n            sendMsg(this.chatForm).then(res => {\r\n                if (res.data.code == 200) {\r\n                    let ai2 = {\r\n                        time: '05/19 10:22:22',\r\n                        imgUrl: this.chatData.avatar,\r\n                        description: res.data.data,\r\n                        color: \"\",\r\n                        type: 'AI',\r\n                    }\r\n                    this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                    this.loading = false\r\n                    this.animateMessages();\r\n                    // localStorage.setItem(\"isLogin\", true);\r\n                } else {\r\n                    let ai2 = {\r\n                        time: '05/19 10:22:22',\r\n                        imgUrl: this.chatData.avatar,\r\n                        description: res.data.msg,\r\n                        color: \"\",\r\n                        type: 'AI',\r\n                    }\r\n                    this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                    this.loading = false\r\n                    this.animateMessages();\r\n                    this.$message.error(res.msg);\r\n                }\r\n            }).catch(() => {\r\n                let ai2 = {\r\n                    time: '05/19 10:22:22',\r\n                    imgUrl: this.chatData.avatar,\r\n                    description: \"请求失败\",\r\n                    color: \"\",\r\n                    type: 'AI',\r\n                }\r\n                this.chatList.splice(this.chatList.length - 1, 1, ai2)\r\n                this.loading = false\r\n                this.animateMessages();\r\n                this.$message.error(\"请求失败\");\r\n            })\r\n            this.$nextTick(this.scrollToBottom);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@keyframes blink {\r\n    0% {\r\n        opacity: 1;\r\n    }\r\n\r\n    50% {\r\n        opacity: 0;\r\n    }\r\n\r\n    100% {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.blink {\r\n    animation: blink 1s infinite;\r\n    width: 0.3vh;\r\n    height: 3vh;\r\n    background-color: black;\r\n    display: inline-block\r\n}\r\n\r\n.chattingBox {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n\r\n    .chatLeft {\r\n        width: 80%;\r\n        height: 100vh;\r\n        background: #fff;\r\n        border-right: 1px solid #e6e6e6;\r\n\r\n        .header {\r\n            background-color: white;\r\n            // width: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            padding: 0.5rem 2rem;\r\n            z-index: 100;\r\n\r\n            p {\r\n                margin-left: 2rem;\r\n                text-align: right;\r\n                width: calc(100% - 1rem);\r\n                font-weight: 800;\r\n            }\r\n\r\n            .operate {\r\n\r\n                img {\r\n                    width: 1.5rem;\r\n                    height: 1.5rem;\r\n                }\r\n            }\r\n        }\r\n\r\n        .chatListBox {\r\n            padding: 1rem;\r\n            height: 78%;\r\n            border-top: 1px solid #e6e6e6;\r\n            overflow: auto;\r\n\r\n            .chatList {\r\n                display: flex;\r\n                align-items: start;\r\n                margin-bottom: 1rem;\r\n\r\n                img {\r\n                    width: 2.5rem;\r\n                    height: 2.5rem;\r\n                    border-radius: 50%;\r\n                    margin-right: 0.5rem;\r\n                }\r\n\r\n                .text {\r\n                    p {\r\n                        text-align: left;\r\n                        font-size: 0.5rem;\r\n                        color: rgb(180 187 196);\r\n                    }\r\n\r\n                    .desc {\r\n                        background: rgba(220, 220, 220, 0.187);\r\n                        border-radius: 1rem;\r\n                        padding: 1rem;\r\n                        box-sizing: border-box;\r\n                        margin-top: 1rem;\r\n                        color: #000;\r\n                        font-size: 0.9rem;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .userChat {\r\n                justify-content: end;\r\n                flex-direction: row-reverse;\r\n\r\n                img {\r\n                    margin-left: 1rem;\r\n                }\r\n\r\n                .desc {\r\n                    background: rgb(105, 58, 244) !important;\r\n                    color: #fff !important;\r\n                }\r\n            }\r\n        }\r\n\r\n        .chatInput {\r\n            display: flex;\r\n            align-items: center;\r\n            padding-left: 0.7rem;\r\n\r\n            .title {\r\n                background: rgb(105, 58, 244);\r\n                color: #fff;\r\n                border-radius: 2rem;\r\n                width: 7rem;\r\n                margin-right: 0.5rem;\r\n\r\n                img {\r\n                    width: 1rem;\r\n                    height: 1rem;\r\n                    transform: scale(1.9);\r\n                    margin-right: 0.5rem;\r\n                }\r\n            }\r\n\r\n            .chatText {\r\n                width: calc(100% - 8.5rem);\r\n                padding-top: 0.2rem;\r\n\r\n                ::v-deep .el-input__inner {\r\n                    border-radius: 2rem;\r\n                    border-top-right-radius: 0;\r\n                    border-bottom-right-radius: 0;\r\n                    // border-right: 0; \r\n                }\r\n\r\n                ::v-deep .el-input-group__append {\r\n                    border-radius: 2rem;\r\n                    border-top-left-radius: 0;\r\n                    border-bottom-left-radius: 0;\r\n                    // border-right: 0; \r\n                }\r\n            }\r\n\r\n            ::v-deep .el-textarea__inner {\r\n                resize: none;\r\n            }\r\n        }\r\n    }\r\n\r\n    .chatRight {\r\n        width: 20%;\r\n        box-sizing: border-box;\r\n        background: #fff;\r\n\r\n        .aiListBox {\r\n            padding: 0;\r\n\r\n            .aiList:last-child {\r\n                margin-right: 0rem;\r\n            }\r\n\r\n            .aiList:hover {\r\n                background: #f1f0fa;\r\n            }\r\n\r\n            .active {\r\n                background: #f1f0fa;\r\n            }\r\n\r\n            .aiList {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: start;\r\n                padding: 0.5rem;\r\n                width: 99%;\r\n                box-sizing: border-box;\r\n                border-radius: 0.5rem;\r\n\r\n                .el-image {\r\n                    width: 2.5rem;\r\n                    height: 2.5rem;\r\n                    border-radius: 50%;\r\n                    margin-right: 0.5rem;\r\n                }\r\n\r\n                .aiText {\r\n                    text-align: start;\r\n                    width: calc(100% - 4rem);\r\n\r\n                    .text {}\r\n\r\n                    .desc {\r\n                        white-space: nowrap;\r\n                        overflow: hidden;\r\n                        text-overflow: ellipsis;\r\n                        width: calc(100%);\r\n                        font-size: 0.5rem;\r\n                        color: #888888;\r\n                        margin-top: 0.1rem;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        ::v-deep .el-tabs__nav-wrap {\r\n            padding-left: 2rem;\r\n        }\r\n\r\n        .is-active {\r\n            span {\r\n                color: rgb(105, 58, 244)\r\n            }\r\n        }\r\n\r\n        .xjht {\r\n            display: flex;\r\n\r\n            .el-button {\r\n                border: 1px solid rgb(105, 58, 244);\r\n                border-radius: 2rem;\r\n                width: calc(100% - 4rem);\r\n                height: 2rem;\r\n                margin-left: 1rem;\r\n                margin-right: 0.5rem;\r\n                line-height: 0.5rem;\r\n            }\r\n\r\n            .messageBox {\r\n                width: 2rem;\r\n                height: 2rem;\r\n                background: #ebeef5;\r\n                border-radius: 50%;\r\n                padding: 1rem;\r\n                box-sizing: border-box;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n\r\n                .el-icon-chat-square {\r\n                    font-size: 1rem;\r\n                    color: black;\r\n                }\r\n\r\n                ::v-deep .el-badge__content {\r\n                    font-size: 7px;\r\n                    height: 14px;\r\n                    line-height: 14px;\r\n                    background: #000;\r\n                    padding: 0 4px;\r\n                    color: #fff;\r\n                    top: 3px;\r\n                    right: 10px;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        .talkList {\r\n            background: #f4f4f5;\r\n            border-radius: 2rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: start;\r\n            padding: 0.5rem 1rem;\r\n            box-sizing: border-box;\r\n            margin: 1rem 1rem;\r\n\r\n            i {\r\n                margin-right: 1rem;\r\n                font-size: 1rem;\r\n            }\r\n\r\n            .el-icon-chat-dot-square {\r\n                color: rgb(105, 58, 244);\r\n                ;\r\n            }\r\n\r\n            span {\r\n                margin-right: 2.3rem;\r\n                color: rgb(105, 58, 244);\r\n                font-size: 0.9rem;\r\n            }\r\n\r\n            .el-icon-edit {\r\n                margin-right: 0.5rem;\r\n                margin-left: auto;\r\n            }\r\n        }\r\n\r\n        .Roles {\r\n            text-align: left;\r\n            padding: 1rem;\r\n            padding-top: 0;\r\n            box-sizing: border-box;\r\n\r\n            .boxBor {\r\n                border-bottom: 1px solid gainsboro;\r\n                padding: 1rem;\r\n                box-sizing: border-box;\r\n                padding-top: 0;\r\n                padding-left: 0;\r\n                margin-bottom: 0.5rem;\r\n\r\n                h4 {\r\n                    margin-bottom: 0.5rem;\r\n                }\r\n\r\n                p {\r\n                    font-size: 0.75rem;\r\n                    color: rgb(102, 102, 102);\r\n                }\r\n            }\r\n\r\n            .caozuo {\r\n                display: flex;\r\n                justify-content: start;\r\n                align-items: center;\r\n\r\n                .caozRight {\r\n                    margin-left: auto;\r\n\r\n                    .delete {\r\n                        background: #693af493;\r\n                        color: #fff;\r\n                    }\r\n\r\n                    .el-button {\r\n                        font-size: 0.9rem;\r\n                        padding: 0.5rem;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.chatRightPhone {\r\n    display: none;\r\n}\r\n\r\n@media only screen and (max-width:640px) {\r\n    .chatLeft {\r\n        width: 100% !important;\r\n    }\r\n\r\n    .chatRight {\r\n        display: none;\r\n    }\r\n\r\n    .chatRightPhone {\r\n        display: block;\r\n\r\n        .chatRight {\r\n            display: block;\r\n            width: 100% !important;\r\n        }\r\n\r\n        ::v-deep .el-drawer {\r\n            width: 40% !important;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width:440px) {\r\n    .chatLeft {\r\n        width: 100% !important;\r\n    }\r\n\r\n    .chatRight {\r\n        display: none;\r\n    }\r\n\r\n    .chatRightPhone {\r\n        display: block;\r\n\r\n        .chatRight {\r\n            display: block;\r\n            width: 100% !important;\r\n        }\r\n\r\n        ::v-deep .el-drawer {\r\n            width: 70% !important;\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.75.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.21.0_webpack@5.75.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.10.1_css-loader@6.7.3_vue-template-compiler@2.7.14_webpack@5.75.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./chatting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.75.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.21.0_webpack@5.75.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.10.1_css-loader@6.7.3_vue-template-compiler@2.7.14_webpack@5.75.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./chatting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chatting.vue?vue&type=template&id=75362ad3&scoped=true&\"\nimport script from \"./chatting.vue?vue&type=script&lang=js&\"\nexport * from \"./chatting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatting.vue?vue&type=style&index=0&id=75362ad3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.10.1_css-loader@6.7.3_vue-template-compiler@2.7.14_webpack@5.75.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75362ad3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["sendMsg","data","request","url","method","chatList","addChat","records","deleteChat","editChat","addRobot","render","_vm","this","_c","_self","staticClass","_v","_s","chatData","robotName","currentChat","staticStyle","attrs","require","on","$event","isCollapse","ref","_l","item","index","key","class","type","imgUrl","time","isInit","loading","length","description","displayedMessages","style","right","scopedSlots","_u","fn","proxy","_e","resend","model","value","message","callback","$$v","expression","disabledValue","send","slot","avatar","abstract","activeName","newChat","chats","backgroundColor","serialNumber","selectChat","name","editClick","id","deleteClick","username","talkMode","isOpenSource","openStatus","prompt","domProps","checked","staticRenderFns","aiList","AiList","chatForm","userId","chatSelectId","robotId","temperature","messages","currentChatId","resMsg","color","watch","oldValue","then","res","code","newArray","map","push","val","console","log","getPub","i","robots","forEach","itemR","mounted","$route","query","userInfo","JSON","parse","localStorage","getItem","$message","error","msg","catch","err","scrollToBottom","methods","animateMessages","currentIndex","interval","timer","setInterval","clearInterval","displayedMessage","slice","$nextTick","Date","toLocaleTimeString","hour12","buildChatForm","maxLength","maxItems","count","items","itemLength","result","role","content","unshift","sysMsg","$confirm","confirmButtonText","cancelButtonText","center","findIndex","chat","del","$prompt","edit","find","currentId","$refs","chatListBox","scrollTop","scrollHeight","a","ai","ai2","splice","component"],"sourceRoot":""}